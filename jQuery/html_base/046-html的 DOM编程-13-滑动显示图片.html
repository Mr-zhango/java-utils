<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>一</title>
    <style type="text/css">

    </style>
    <script type="text/javascript" src="2.js"></script>
    <script type="text/javascript">
        //显示图片
        function showImg() {
            var imgObj = document.getElementById("img");

           if( imgObj.width<900){
               setImgWidth1();
           }else{
               //图片完全显示之后
               //让显示图片的按钮失效
               document.getElementById("btnShow").disabled = true;
               //让隐藏图片的按钮生效
               document.getElementById("btnHiden").disabled = false;
           }
        }

        function hidenImg() {
            var imgObj = document.getElementById("img");
            if( imgObj.width > 0){
                setImgWidth2();
            }else{
                //图片完全隐藏之后
                //让显示图片的按钮生效
                document.getElementById("btnShow").disabled = false;
                //让隐藏图片的按钮失效
                document.getElementById("btnHiden").disabled = true;
            }
        }
        //逐渐增加图片的宽度
        function setImgWidth1() {
            var imgObj = document.getElementById("img");
            imgObj.width += 3;
            //20毫秒之后去调用showImg(),就调用一次
            //但是在showImg()中调用了setImgWidth1().在setImgWidth1()中又调用了showImg()
            //这就形成了循环
            window.setTimeout("showImg()",20);
        }

        //逐渐减少图片的宽度
        function setImgWidth2() {
            var imgObj = document.getElementById("img");
            imgObj.width -= 3;
            //20毫秒之后去调用showImg(),就调用一次
            //但是在showImg()中调用了setImgWidth1().在setImgWidth1()中又调用了showImg()
            //这就形成了循环(每个20ms调用一次)
            window.setTimeout("hidenImg()",20);
        }
    </script>


</head>

<body>
    <input type="button" value="显示图片" onclick="showImg()" id="btnShow">
    <hr>
    <input type="button" value="隐藏图片" onclick="hidenImg()" disabled="disabled" id="btnHiden">
    <hr>
    <img id="img" src="../img/1.png" width="0" alt="图片一">
</body>
</html>